<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:f="sap.ui.layout.form" xmlns:html="http://www.w3.org/1999/xhtml" controllerName="CS4N.EnergyHistory.controller.StationData">
	<Page id="myPage" busyIndicatorDelay="100" titleAlignment="Center" enableScrolling="false">
		<customHeader>
			<Bar>
        <contentLeft>
          <Button type="Back" text="{i18n>text_Cockpit}" press="onBackPress"/>
        </contentLeft>
				<contentMiddle>
					<Image src="image/flash-energy-pastel-32.png" height="2rem"/>
					<Title text="{/viewData/stationDefinition/name}"/>
				</contentMiddle>
        <contentRight>
          <Button icon="sap-icon://electronic-medical-record" text="{i18n>text_Record}" press="onEditPress" />          
        </contentRight>
			</Bar>
		</customHeader>
		<content>
      <IconTabBar id="myTabBar" selectedKey="{/selectedTabKey}" expandable="false" stretchContentHeight="true" select="onTabSelect" applyContentPadding="false" headerMode="Inline">
        <items>
          <IconTabFilter text="{i18n>text_Analysis}">
            <Panel id="chartContainer" busyIndicatorDelay="100" height="100%">
              <html:canvas id="myChart" />
            </Panel>
          </IconTabFilter>
          <IconTabFilter text="{i18n>text_Summary}">
            <f:Form editable="false">
              <f:layout>
                <f:ResponsiveGridLayout columnsM="2" />
              </f:layout>
              <f:formContainers>
                <f:FormContainer>
                  <f:formElements>
                    <f:FormElement label="{i18n>text_MaximumPerformance}">
                      <f:fields>
                        <Text text="{ parts: ['/viewData/stationDefinition/maxWattPeak', '/viewData/stationDefinition/powerUnit'], formatter: '.formatPowerValue' }"/>
                      </f:fields>
                    </f:FormElement>
                    <f:FormElement label="{i18n>text_CollectedTotal}">
                      <f:fields>
                        <Text text="{ parts: ['/viewData/stationCollectedTotal', '/viewData/stationDefinition/capacityUnit'], formatter: '.formatPowerValue' }"/>
                      </f:fields>
                    </f:FormElement>
                  </f:formElements>
                </f:FormContainer>
                <f:FormContainer>
                  <f:formElements>
                    <f:FormElement label="{i18n>text_InstalledAt}">
                      <f:fields>
                        <Text text="{ path: '/viewData/stationDefinition/installedAt', formatter: '.formatDate' }" />
                      </f:fields>
                    </f:FormElement>
                  </f:formElements>
                </f:FormContainer>
              </f:formContainers>
            </f:Form>
          </IconTabFilter>
        </items>
      </IconTabBar>      
    </content>
	</Page>
</mvc:View>