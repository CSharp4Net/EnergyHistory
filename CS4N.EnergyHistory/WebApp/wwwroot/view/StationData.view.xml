<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:f="sap.ui.layout.form" xmlns:html="http://www.w3.org/1999/xhtml" controllerName="CS4N.EnergyHistory.controller.StationData">
	<Page id="myPage" busyIndicatorDelay="100" titleAlignment="Center" enableScrolling="false">
		<customHeader>
			<Bar>
        <contentLeft>
          <Button type="Back" text="{i18n>text_Cockpit}" press="onBackPress"/>
        </contentLeft>
				<contentMiddle>
					<Image src="image/flash-energy-pastel-32.png" height="2rem"/>
					<Title text="{/viewData/stationDefinition/name}"/>
				</contentMiddle>
        <contentRight>
          <Button icon="sap-icon://filter" press="onFilterPress" />          
          <Button icon="sap-icon://edit" press="onEditPress" />          
        </contentRight>
			</Bar>
		</customHeader>
		<content>
      <IconTabBar id="myTabBar" selectedKey="{/selectedTabKey}" expandable="false" stretchContentHeight="true" select="onTabSelect" applyContentPadding="false" headerMode="Inline">
        <items>
          <IconTabFilter text="{i18n>text_Analysis}">
            <Panel id="chartContainer" busyIndicatorDelay="100" height="100%">
              <html:canvas id="chartControl" />
            </Panel>
          </IconTabFilter>
          <IconTabFilter text="{i18n>text_Summary}">
            <f:Form editable="false">
              <f:layout>
                <f:ResponsiveGridLayout columnsM="2" labelSpanL="6" labelSpanM="6" labelSpanS="6" />
              </f:layout>
              <f:formContainers>
                <f:FormContainer>
                  <f:formElements>
                    <f:FormElement label="{i18n>text_MaximumPerformance}">
                      <f:fields>
                        <ObjectNumber number="{/viewData/stationDefinition/powerPeak}" unit="{/viewData/stationDefinition/powerUnit}"/>
                      </f:fields>
                    </f:FormElement>
                    <f:FormElement label="{i18n>text_InstalledAt}">
                      <f:fields>
                        <Text text="{ path: '/viewData/stationDefinition/installedAt', formatter: '.formatDate' }" />
                      </f:fields>
                    </f:FormElement>
                  </f:formElements>
                </f:FormContainer>
                <f:FormContainer>
                  <f:formElements>
                    <f:FormElement label="{i18n>text_GeneratedElectricityAmount}">
                      <f:fields>
                        <ObjectNumber number="{ path: '/viewData/generatedElectricityAmount', formatter: '.formatPowerValue' }" 
                                      unit="{/viewData/stationDefinition/capacityUnit}"
                                      state="Success"/>
                      </f:fields>
                    </f:FormElement>
                    <f:FormElement label="{i18n>text_GeneratedElectricityValue}" visible="{= ${/viewData/generatedElectricityValue} > 0 }">
                      <f:fields>
                        <ObjectNumber number="{ path: '/viewData/generatedElectricityValue', formatter: '.formatPowerValue' }" 
                                      unit="{/viewData/stationDefinition/currencyUnit}"
                                      state="Success"/>
                      </f:fields>
                    </f:FormElement>
                    <f:FormElement label="{i18n>text_FedInElectricityValue}" visible="{= ${/viewData/fedInElectricityValue} > 0 }">
                      <f:fields>
                        <ObjectNumber number="{ path: '/viewData/fedInElectricityValue', formatter: '.formatPowerValue' }"
                                      unit="{/viewData/stationDefinition/currencyUnit}" 
                                      state="Success" />
                      </f:fields>
                    </f:FormElement>
                  </f:formElements>
                </f:FormContainer>
              </f:formContainers>
            </f:Form>
          </IconTabFilter>
        </items>
      </IconTabBar>      
    </content>
	</Page>
</mvc:View>